Делаем счетчик для попадания в один и тот же стейт через создание кастомных тегов.
Для этого нужно написать функцию, которая принимает аргумент:
key значит стейт
limit сколько раз повторять
targetState в какой стейт переходить при достижении лимита

Счетчик можно создать тремя способами:
1) в коде через с помощью JS
2) через обработчик bind preprocess  в начале сценария
3) через кастомный тег действия 
- какой лучше и оптимальней?